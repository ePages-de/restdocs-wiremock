dist: trusty
language: java
jdk:
- openjdk8
sudo: false
cache:
  directories:
  - "$HOME/.gradle"
install: true
script:
- ./ci_build.sh
before_install:
- openssl aes-256-cbc -K $encrypted_c2f58914b0fd_key -iv $encrypted_c2f58914b0fd_iv -in secret-keys.gpg.enc -out secret-keys.gpg -d
after_success:
- if [ "$TRAVIS_PULL_REQUEST" = "false" ]; then ./ci_publish.sh; fi
env:
  global:
  - CI_NAME=travis-ci
  - SIGNING_KEYRING_FILE="${TRAVIS_BUILD_DIR}/secret-keys.gpg"
  # coveralls
  - secure: "eIA27RK7BgAcOuyRFKWqN7V8T3Ta5ZcqYPU3NTrg26ljesZLp9kdtdpjxcW+wyhca8ilHG1x/ci+kfSmnxTIrxohfAsPMqCmK0QBxX5CH2b91DxrsadyPMpn602wVU4z/L8POgYnlK+JHS2EO7ZurazkdQtlJ5BFIW7uw4L9rxvU4MWVK3D6zEKX9n0dSRgy+B1zriD9ujok1WaEEVnvjDOxblemYGAOsOl+zyvB+3SfUZ/lgXLFjEgDoHx2MinEtmMT5hX+Hzpd333XrQ8TOTO45LVsZyQnkyMPO9xo6OiFUh5vbNyjRomSVx1jdIGfXE00SkudCCLSeiWtvWHc+xrZ3AboabEgFU5vUwSKyL2uCc/7MeRZI38ZSla4d7QH0zWULDJkF6UgH7GwuYlYmUwhYAnVxUMsaGceGN9ucf3S0YuL1yF3qCbRzKiADrdPxXYJ64kt7yJZsXW6Xv0maFem/zVq2kZJHvSuTbpiWZ2tthTgEMgdTL0Yat9l2umNYGFjuLLcuDndwRLwYyjwgL/M7xhuMK0SlpNI0xBgnUqxi42zH/yKR5A+kWxbC567SxVDPVyOp3sooU1A83AB2sCobsfnywTIV9IwvPtVUE6XPFFvXuasS6p8ZnIHk+RPMBp2CKzJEMGRiMKBH1+uJOpfW2aLlBd6QOqxzMjg1IM="
  # SONATYPE_USERNAME
  - secure: "KDBpJRUqVacgHE7Cg1eroXFmOAD4sjCH7a7REUwrgCdPJuPdPC2tIBdHN2P//TpZPdyMflScm4sNHzxTzup+9EM9MlNZolS8qlwQLEZkZ/200zdWVJebTf/1QkTYiB/DVwRQf0y29R8GTCFBF78+US69qKvOch7xD8OVOmIvX0WAMTC4pFBxu62hHjvlSLgYHpLKNzqjvSGv2Klda98HQCu/It1hnNETsEnqjbqpKoTs5Z93jGmHYyjwCj8gvLQCNrVBCeufmK9YqQcho+berHzrmgYnI4hG60geCbZqlg1cWLiU3W9Gbs1cQftdOzxVngCDnN09KsBKmNegse3dX1HRtEDr1GYxiPhx5gl/uAmormclW6e/vkv/aWF6QPx1GMylsYs2dYJhl2TPLWip4wJoEIiIn0HquJAnrHi/t8gok6eIjulOe694UJyup5hgX2qbnigdBvOJQAtxe/yKK9zF74fn7kYCLlDAmkZMbI1vtXRNcuql7aOamI/+X9lspqkJHdBOH/44oKjjgbp2TGHAvL/8IqpHJ5yk0sHK+iAXZ9EgjZH/tuZtLX4X4tPuPEMyJUJxbxw1byvZmB3Age7UjqquTE13DJMRrMGTXqb/J1jWduxurJ0jrkv72gtCoKa5/GooBGpE2HmBaH/6YvDaNM78GuaVaqorjNJI+rk="
  # SONATYPE_PASSWORD
  - secure: "NsyLBTar20SQMWEGUD/E8aGdHnz9/OJHdQm+88F6GB5CETV3+JD/aM8skZXq6SYgKYzN+mNntdD2566o0pa4VnNdIxag1InuCyyVONbl0gZwjfftNeUFux+ZseaStatyr0yVayNCuqVP9T8TBe02ZIji/h/3Ydt24dvcjqy+INDxTzRLVXa+yqACiIxyyrVEiL2dXbA7U3runEEt0ojcEjmdgAlQohglyHb+th5hWtxLgIgEbDq4aV4NNUzS2W8H4fUbnmCse1IpqsDqDyccDUPjIonLiF1jjb3+uhHFziJzKaUb65v5d5YZdlgGe01S8fdpR7LwOknNWhM7W/JScw9udVzZfhcPGqjytPWjVbLSxltPTukWeVmRg7gilWQCI3rcqk4ZZHP1OsqCVS4G1/0E/CGPKs5fHaC4r5jFGKvC7XKMAKt+UKZG6H7ma9IzAtrXwdWhUJiGqLChJdv+LtzCuaR4NIN3sIvNZm5uetJ9Dz+o0HTigX946TmOmVgWkSwdgVFf57rrDmOu2u9yZP7OmAaiXURXU/iWeRnOJrESTubLv2zLYeHDO/7D9sV4qYE2IcfV5yNUXb2OtVT56PGOdYd8jv6U4HCZoHlawOk6i83QNUdRUiKEV/0h+IoWibUbOu9ypV/+UDQSDpjenIV+poKaE/F9IswQN794JXw="
  # SIGNING_KEY_ID
  - secure: "LKbkCPDhCOVnmqaO72aWCHtTFQzJsx3AWuVPkQsYrJb+OwmJO9gsB0p1yPKIJZGfJOrFxyiRJ0QrtBt+0wtiLLUS0iU9f9so/z4PCpSvsT5cABqS33JRRM5NqokhlyH/+leyR3NLKK/A41Flo/0htuYZ/avsFzX7VVISSZXYaMFRNy1+j+reAbH95Yz/R5E0IzF7rxIgniRDqZ4oo0d4OeqOoWSOGt2oPLE55CArhL7MeUx4F8xSbDmkWQ+gP9zikq6KfLz7GlTKtJ+HpPNyJQvID3VUwIUYZqJcEdvoy7v+yEuw08PNR2RzEc6SrrckQSOI/dWEyJhj/8K9rJf8dDdTJ2CX4S+J1lc5bwXalgZr2goWK0RRzZVlaqpobkFofALrxTqxSnJzOXnyQkPoVIWASs6gMyYRV0T36cbCAkCUWmtdyPkUA5z+Ja0AWqsfDFRF5WGUHpvGAR2rklGoCBDJ5ijgdTZmkLqDUKUnMgGVBXQZ0FVBumY4P2dGac1x/PtTmbCZ8GXyxSrWzcZIW/J4N9SNN29eap6EmfN78kIhMOwoPjRII7dkZXrAMPz99+ribA1rDPB9k9YSEDYepgQF/DFaM79h11rx2s8GoVdMIa5wCyrwbK4AZ2XhmCgoU0DKwjlxCKd0Wr+1UhtlPt6b4/q/4pE6sC+Cnm6ni+0="
  # SIGNING_PASSWORD
  - secure: "ixVx7DbwtOslNK9NTSvLjOws64k6f748ST9koQq7hmbiBLWlavhfK7w1dkdbmbrTQClcitMxgKDyoFCodnxgC942bRkiwz8+1hxCHPIxupaIGFhJeZzit09fLoe4Quc8861jVL3Cu/JMhd5p0shkuhuMg9vdXpISPXyI7OaujKTZg+H2drCoUsPGKwHWeHMu5C7wLQoUZaHdyRPYgq6T/3Wz35CJn6Vgtduw9WuuPBxUfgIPKvU4soIX/vKumi10UChDQeYL+pjNy1lXYtBn+SWn5sfiekUeJbZJseVLsgbr0z5G9C4ACE7aR4u9o4WLBSVLISgxFqvY6PNqUjLJ9Fk6megCgp7+BxtScl9W3rJrUSBTuLysSvgF8GiIFyxWO5hZ4gMZ6O/0mYpnxIvnYibTKoc9hV/J0rbvhRlj2czmZD8i3ynqIQwXHxOF/l4Wo8DpG4oMHDGMYfe8IFTrEVrNszAKUqOp+gcMXRuK/ZOJQKbgwBVJTBi+2tm/irQ9FQyAhQL59CvNLW6rbHWGHDwxALKI2cHWThed5fGTXx686jesJTWOb8KcYaiUkoMzv9RxYpfi04cUcCzT1WtL3dQr4iXZVI36ZP8qnHCuPHWu50kcz8DCe3LgChWs01A7F61kLHYpJu087P18SAa3SQfN4dXzoyUEOufCZi9r2y0="
